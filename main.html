<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App - GitHub Pages</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
        }
        
        .container {
            width: 90%;
            max-width: 450px;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(to right, #1a2a6c, #b21f1f);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .form-container {
            padding: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        button {
            width: 100%;
            padding: 12px;
            background: linear-gradient(to right, #1a2a6c, #b21f1f);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
        }
        
        .chat-container {
            display: none;
            flex-direction: column;
            height: 500px;
        }
        
        .chat-header {
            background: linear-gradient(to right, #1a2a6c, #b21f1f);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background-color: #f5f5f5;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 10px;
            max-width: 80%;
        }
        
        .received {
            background-color: #e9ecef;
        }
        
        .sent {
            background: linear-gradient(to right, #1a2a6c, #b21f1f);
            color: white;
            margin-left: auto;
        }
        
        .input-area {
            display: flex;
            padding: 15px;
            border-top: 1px solid #ddd;
        }
        
        .message-input {
            flex: 1;
            margin-right: 10px;
        }
        
        .encrypted {
            font-family: monospace;
            letter-spacing: 2px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Chat App - GitHub Pages</h1>
            <p>Đăng nhập để bắt đầu chat</p>
        </div>
        
        <div class="form-container" id="loginForm">
            <div class="form-group">
                <label for="username">Tên đăng nhập</label>
                <input type="text" id="username" placeholder="Nhập tên">
            </div>
            <div class="form-group">
                <label for="password">Mật khẩu</label>
                <input type="password" id="password" placeholder="Nhập mật khẩu">
            </div>
            <button id="loginBtn">Đăng Nhập</button>
            <p style="text-align: center; margin-top: 15px; color: #666;">
                Mật khẩu mặc định: <strong>123456</strong>
            </p>
        </div>
        
        <div class="chat-container" id="chatContainer">
            <div class="chat-header">
                <div>Chat Room</div>
                <button id="logoutBtn" style="background: none; border: 1px solid white; padding: 5px 10px;">Đăng Xuất</button>
            </div>
            
            <div class="messages" id="messagesContainer">
                <div class="message received">
                    <div>Chào mừng đến với Chat App trên GitHub Pages!</div>
                    <div style="font-size: 0.7rem; opacity: 0.7; margin-top: 5px;">Hệ thống • Vừa xong</div>
                </div>
            </div>
            
            <div class="input-area">
                <input type="text" class="message-input" id="messageInput" placeholder="Nhập tin nhắn...">
                <button id="sendBtn">Gửi</button>
            </div>
        </div>
    </div>

    <script>
        // Các phần tử DOM
        const loginForm = document.getElementById('loginForm');
        const chatContainer = document.getElementById('chatContainer');
        const loginBtn = document.getElementById('loginBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const messagesContainer = document.getElementById('messagesContainer');

        // Hàm mã hóa tin nhắn
        function encryptMessage(message) {
            let encrypted = '';
            const characters = '!@#$%^&*()_+-=[]{}|;:,.<>?';
            for (let i = 0; i < message.length; i++) {
                const randomChar = characters.charAt(Math.floor(Math.random() * characters.length));
                encrypted += randomChar;
            }
            return encrypted;
        }

        // Xử lý đăng nhập
        loginBtn.addEventListener('click', function() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                alert('Vui lòng nhập đầy đủ thông tin!');
                return;
            }
            
            if (password !== '123456') {
                alert('Mật khẩu không đúng!');
                return;
            }
            
            loginForm.style.display = 'none';
            chatContainer.style.display = 'flex';
            
            // Thêm tin nhắn chào mừng
            addMessage(`Chào ${username}! Bạn có thể bắt đầu chat.`, 'Hệ thống', false);
        });

        // Xử lý đăng xuất
        logoutBtn.addEventListener('click', function() {
            chatContainer.style.display = 'none';
            loginForm.style.display = 'block';
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            messagesContainer.innerHTML = '<div class="message received"><div>Chào mừng đến với Chat App trên GitHub Pages!</div><div style="font-size: 0.7rem; opacity: 0.7; margin-top: 5px;">Hệ thống • Vừa xong</div></div>';
        });

        // Hàm thêm tin nhắn
        function addMessage(content, sender, isEncrypted = true) {
            const messageElement = document.createElement('div');
            messageElement.className = `message ${sender === 'Hệ thống' ? 'received' : 'sent'}`;
            
            const messageContent = document.createElement('div');
            if (isEncrypted) {
                messageContent.className = 'encrypted';
                messageContent.textContent = encryptMessage(content);
                messageContent.setAttribute('data-original', content);
                
                messageContent.addEventListener('mouseenter', function() {
                    this.textContent = this.getAttribute('data-original');
                });
                
                messageContent.addEventListener('mouseleave', function() {
                    this.textContent = encryptMessage(this.getAttribute('data-original'));
                });
            } else {
                messageContent.textContent = content;
            }
            
            const messageInfo = document.createElement('div');
            messageInfo.style.fontSize = '0.7rem';
            messageInfo.style.opacity = '0.7';
            messageInfo.style.marginTop = '5px';
            
            const now = new Date();
            const time = now.getHours().toString().padStart(2, '0') + ':' + 
                         now.getMinutes().toString().padStart(2, '0');
            messageInfo.textContent = `${sender} • ${time}`;
            
            messageElement.appendChild(messageContent);
            messageElement.appendChild(messageInfo);
            messagesContainer.appendChild(messageElement);
            
            // Cuộn xuống dưới cùng
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Xử lý gửi tin nhắn
        sendBtn.addEventListener('click', function() {
            const message = messageInput.value.trim();
            if (message) {
                addMessage(message, 'Bạn');
                messageInput.value = '';
                
                // Giả lập phản hồi sau 1 giây
                setTimeout(() => {
                    const responses = [
                        "Xin chào! Tin nhắn của bạn đã được mã hóa",
                        "Tôi có thể đọc tin nhắn của bạn khi di chuột vào",
                        "Ứng dụng này đang chạy trên GitHub Pages!",
                        "Tin nhắn của bạn: " + message
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addMessage(randomResponse, 'Người khác');
                }, 1000);
            }
        });

        // Gửi tin nhắn bằng Enter
        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendBtn.click();
            }
        });
    </script>
</body>
</html>
